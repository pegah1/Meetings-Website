/** 
 * jquery.jqflipswitch.min.js
 * @fileoverview jQuery Plugin for Flip-Switch
 *
 * Copyright 2014@Tomohiro IKEDA
 * Released under the MIT license
 */
(function(d){var m,p,q;/iPhone|iPad|iPod|Android/.test(navigator.userAgent)?(m="touchstart",p="touchmove",q="touchend"):(m="mousedown",p="mousemove",q="mouseup");var k=function(a,b,c){if(d.isPlainObject(a)&&"type"in a&&d.isPlainObject(b)&&d.isFunction(b[a.type])){var f={},g=null;d.isPlainObject(b.values)&&(g=b.values[c]);f.value=g;f.state=c;b[a.type](a,f)}},w=function(a,b){if(!d(a.target).hasClass("jq-flipper")){var c=d(a.currentTarget),f=c.children(".jq-flipper"),g=0,u="";d.isPlainObject(b.animates)&&
(g=b.animates.duration,u=b.animates.easing);var l="left",e="0px";!/slow|fast/i.test(String(g))&&0>parseFloat(g)&&(g=0);c.hasClass("jq-flipper-left")?(l="right",e=parseInt(c.width()/2)+"px"):l="left";var v=function(){if(c instanceof jQuery)switch(l){case "left":c.removeClass("jq-flipper-right").addClass("jq-flipper-left");break;case "right":c.removeClass("jq-flipper-left").addClass("jq-flipper-right");break}if(c instanceof jQuery){var d=c.children('[type="checkbox"]');0!==d.length&&(d[0].checked=!d[0].checked)}c.trigger("change",
[b,l])};/slow|fast/i.test(String(g))||0<g?f.animate({left:e},g,u,v):(f.css("left",e),v())}},x=function(d,b,c){k(d,b,c)},y=function(d,b,c){k(d,b,c)},z=function(d,b){k(d,b)},A=function(d,b,c){k(d,b,c)},B=function(a,b){d(a).on("click.jq-flipswitch",function(d){w(d,b)})},C=function(a,b){var c=d(a),f=c.children(".jq-flipper"),g=function(d,c){var e=c.parent(),a=d.pageX-e.offset().left,g=parseInt(b.width),f=parseInt(g/2);e.hasClass("jq-flipper-left")?a>f&&(a=f):(a>g&&(a=g),a-=f);0>a&&(a=0);return a};c.on("flipstart.jq-flipswitch",
y);c.on("flip.jq-flipswitch",z);c.on("flipend.jq-flipswitch",A);f.on(m+".jq-flipswitch",function(a){a="";a=c.hasClass("jq-flipper-left")?"left":"right";c.trigger("flipstart",[b,a]);f.data("isDown",!0);d(window).data("target",f)}).on(p+".jq-flipswitch",function(a){if(f.data("isDown")){var l="ew-resize";d.isPlainObject(b.cursors)&&(l=b.cursors.flip||"ew-resize");f.css("cursor",l).css("left",g(a,f)+"px");c.trigger("flip",[b])}});d(window).on(q+".jq-flipswitch",function(a){var c,e=d(window).data("target")||
null;if(null!==e&&e.data("isDown")){var f=e.parent(),h="";c=!1;var h=b.threshold,n=parseInt(b.width)/2;a=g(a,e);e.parent().hasClass("jq-flipper-left")?a>=h?(h="right",c=!0):h="left":a<=n-h?(h="left",c=!0):h="right";a=h;h=parseInt(parseInt(b.width)/2)+"px";switch(a){case "left":f.removeClass("jq-flipper-right").addClass("jq-flipper-left");e.css("left","0px");break;case "right":f.removeClass("jq-flipper-left").addClass("jq-flipper-right"),e.css("left",h)}f.trigger("flipend",[b,a]);c&&f.trigger("change",
[b,a]);e.removeData("isDown");d(window).removeData("target")}})};d.fn.flipswitch=function(a){var b=this,c={create:function(a){c.destroy();b.flipswitch.settings=d.extend(!0,{},b.flipswitch.defaults,a);return b.each(function(a,b){var c=d(b).flipswitch.settings,e;a:if(d.isPlainObject(c)){e=null;if(b instanceof HTMLInputElement&&"checkbox"===b.getAttribute("type"))e=d("<div />"),d(b).hide().before(e).appendTo(e);else if(!(b instanceof HTMLInputElement)&&b instanceof HTMLElement)e=d(b);else{e=null;break a}var f=
"",h="";d.isPlainObject(c.texts)&&(f=c.texts.left||"ON",h=c.texts.right||"OFF");var n="pointer";if(d.isPlainObject(c.cursors))switch(c.type){case "click":n=c.cursors.normal||"pointer";break;case "flip":n=c.cursors.flip||"pointer"}var k=d('<div class="jq-flipper"></div>'),m=d("<div />"),f=d('<div class="jq-flipswitch-text-left"></div>').text(f),h=d('<div class="jq-flipswitch-text-right"></div>').text(h),r=parseInt(parseInt(c.width)/2)+"px",t=parseInt(c.height)+"px",p="left"===c.init?"jq-flipper-left":
"jq-flipper-right",q="left"===c.init?"0px":r;e.css({cursor:n,position:"relative",top:"0px",left:"0px","z-index":1,width:parseInt(c.width)+"px",height:t});k.css({cursor:n,position:"absolute",top:"0px",left:q,"z-index":3,width:r,height:t});f.css({position:"absolute",top:"0px",left:"0px","z-index":2,width:r,"line-height":t,"text-align":"center"});h.css({position:"absolute",top:"0px",right:"0px","z-index":2,width:r,"line-height":t,"text-align":"center"});m.append(f).append(h);e.addClass("jq-flipswitch "+
p).append(k).append(m);e=e[0]}else e=void 0;d(e).off(".jq-flipswitch");d(window).off(".jq-flipswitch");d(e).on("change.jq-flipswitch",x);switch(c.type){case "click":B(e,c);break;case "flip":C(e,c)}})},option:function(d,a){if(void 0===a)return b.flipswitch.settings[d];b.flipswitch.settings[d]=a;return c.create(b.flipswitch.settings)},destroy:function(){b.flipswitch.settings={};return b.each(function(c,a){var b=null;a instanceof HTMLInputElement&&"checkbox"===a.getAttribute("type")?(b=d(a).parent(),
d(a).show().insertBefore(b),b.remove()):(b=d(a),b.removeClass("jq-flipswitch jq-flipper-left jq-flipper-right").empty())})}};if(c[String(a)])return c[String(a)].apply(this,Array.prototype.slice.call(arguments,1));if(d.isPlainObject(a)||void 0===a)return c.create(a);d.error('jquery.jqflipswitch.js : The designated method ("'+a+'") is not defined.')};d.fn.flipswitch.defaults={type:"click",width:200,height:50,init:"left",threshold:50,cursors:{normal:"pointer",flip:"ew-resize"},values:{left:!1,right:!0},
texts:{left:"ON",right:"OFF"},animates:{duration:"fast",easing:"swing"},change:function(a,b){},flipstart:function(a,b){},flip:function(a,b){},flipend:function(a,b){}};d.fn.flipswitch.settings={}})(jQuery);